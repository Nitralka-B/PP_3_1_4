<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Sidebar</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<div class="sidebar" id="sidebar">
    <a href="/user" class="btn btn-primary btn-lg" role="button" id="userButton">User</a>
    <a href="/admin" class="btn btn-primary btn-lg" role="button" id="adminButton" style="display:none;">Admin</a>
</div>

<script>
    // Проверяем роли пользователя и показываем кнопку Admin если нужно
    document.addEventListener('DOMContentLoaded', function() {
        axios.get('/api/user')
            .then(response => {
                const user = response.data;
                const isAdmin = user.roles.some(role => role.name === 'ROLE_ADMIN');
                if (isAdmin) {
                    document.getElementById('adminButton').style.display = 'block';
                }

                // Активируем текущую кнопку
                const currentPage = window.location.pathname;
                if (currentPage === '/user') {
                    document.getElementById('userButton').classList.add('active');
                } else if (currentPage === '/admin') {
                    document.getElementById('adminButton').classList.add('active');
                }
            })
            .catch(error => {
                console.error('Error loading user data:', error);
            });
    });
</script>
</body>
</html>